# SPDX-License-Identifier: GPL-3.0-or-later
#
# Copyright (C) 2019 Khusika Dhamar Gusti (khusika)
#
# Ramdisk for khusika's kernel

on post-fs-data
    # Boot time fs tune
    write /sys/block/mmcblk0/queue/iostats 0
    write /sys/block/mmcblk0/queue/iosched/slice_idle 0
    write /sys/block/mmcblk0/queue/read_ahead_kb 2048
    write /sys/block/mmcblk0/queue/nr_requests 256
    write /sys/block/mmcblk0/queue/add_random 0

    #Zram configs
    setprop ro.vendor.qti.config.zram true
    write /proc/sys/vm/page-cluster 0
    write /sys/block/zram0/comp_algorithm lz4
    write /sys/block/zram0/disksize 1073741824

on property:init.svc.qcom-post-boot=stopped
    setprop sys.io.scheduler "cfq"
    write /sys/block/mmcblk0/queue/iostats 1
    write /sys/block/mmcblk0/queue/read_ahead_kb 512
    write /sys/block/mmcblk0/queue/nr_requests 128
